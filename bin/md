#!/usr/bin/env node

const { spawn } = require('child_process');
const path = require('path');

// Get the file path argument (optional)
const filePath = process.argv[2];

// Get the path to the Electron executable
const electronPath = require('electron');
const appPath = path.join(__dirname, '..');

// Launch Electron with or without file path
const args = filePath ? [appPath, filePath] : [appPath];
const child = spawn(electronPath, args, {
  stdio: 'ignore',
  detached: true,
});

child.unref();

process.exit(0);
